{% extends "base.html.jinja2" %}
{% block heading %}
    <h1 class="display-4">音乐生成结果评估实验</h1>
    <p class="lead">Evaluate the quality of music synthesis</p>
    <hr class="my-4">
    <p>
        感谢您参加本次实验
    </p>
    <p>
        本毕设使用深度学习模型合成了一些音乐，你需要从旋律、和弦、节奏三个角度对听到的音频进行打分
        <ul>
            <li>1（非常不好)</li>
            <li>2（比较不好)</li>
            <li>3（一般)</li>
            <li>4（比较好)</li>
            <li>5（非常好)</li>
        </ul>
    </p>
{% endblock %}

{% block form_questions1 %}
    <h3>图灵测试：你认为这段音频是人类创作还是机器创作？</h3>
    {% for question in questions1 %}
        <div class="card form-group" id="{{question.name}}">
            <div class="card-header" >{{ question.title }}</div>
            <div class="card-body">
                <span>
                    {% audio_path=question.audio_paths %}
                    <audio controls src="{{ audio_path }}">
                        Your browser does not support the audio element.
                    </audio>
                </span>
            </div>
            {% set name = question.name %}
            <div class="form-check">
                <ul id="score">
                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_human" id="{{name}}_human" value="human" required>   
                        <span>人类创作?           </span>
                    </li>

                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_ai" id="{{name}}_ai" value="ai" required>   
                        <span>AI生成</span>
                    </li>
                </ul>
            </div>
        </div>
    {% endfor %}
{% endblock %}


{% block form_questions2 %}
    <h3>单个音频样本打分，请从旋律、节奏、和弦三方面进行打分</h3>
    {% for question in questions2 %}
        <div class="card form-group" id="{{question.name}}">
            <div class="card-header" >{{ question.title }}</div>
            <div class="card-body">
                <span>
                    audio_path=question.audio_paths
                    <audio controls src="{{ audio_path }}/test1.wav">
                        Your browser does not support the audio element.
                    </audio>
                </span>
            </div>
            {% set name = question.name %}
            <div class="form-check">
                <p>旋律</p>
                <ul id="score">
                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_5" id="{{name}}_5" value="5" required>   
                        <span>5</span>
                    </li>

                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_4" id="{{name}}_4" value="4" required>   
                        <span>4</span>
                    </li>

                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_3" id="{{name}}_3" value="3" required>   
                        <span>3</span>
                    </li>

                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_2" id="{{name}}_2" value="2" required> 
                        <span>2</span>
                    </li>

                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_1" id="{{name}}_1" value="1" required>   
                        <span>1</span>
                    </li>

                </ul>
            </div>

            <div class="form-check">
                <p>节奏</p>
                <ul id="score">
                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_5" id="{{name}}_5" value="5" required>   
                        <span>5</span>
                    </li>

                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_4" id="{{name}}_4" value="4" required>   
                        <span>4</span>
                    </li>

                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_3" id="{{name}}_3" value="3" required>   
                        <span>3</span>
                    </li>

                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_2" id="{{name}}_2" value="2" required> 
                        <span>2</span>
                    </li>

                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_1" id="{{name}}_1" value="1" required>   
                        <span>1</span>
                    </li>

                </ul>
            </div>

            <div class="form-check">
                <p>和弦</p>
                <ul id="score">
                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_5" id="{{name}}_5" value="5" required>   
                        <span>5</span>
                    </li>

                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_4" id="{{name}}_4" value="4" required>   
                        <span>4</span>
                    </li>

                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_3" id="{{name}}_3" value="3" required>   
                        <span>3</span>
                    </li>

                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_2" id="{{name}}_2" value="2" required> 
                        <span>2</span>
                    </li>

                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_1" id="{{name}}_1" value="1" required>   
                        <span>1</span>
                    </li>

                </ul>
            </div>
        </div>
    {% endfor %}
{% endblock %}

{% block form_questions3 %}
    <h3>两段音频对比打分，A/B测试,哪一个更好？</h3>
    {% for question in questions3 %}
        <div class="card form-group" id="{{question.name}}">
            <div class="card-header" >{{ question.title }}</div>
            {% for audio_path in question.audio_paths%}
                <div class="card-body">
                    <span>
                        <audio controls src="{{ audio_path }}/test1.wav">
                            Your browser does not support the audio element.
                        </audio>
                    </span>
                    <span>
                        <audio controls src="{{ audio_path }}/test2.wav">
                            Your browser does not support the audio element.
                        </audio>
                    </span>
                </div>
            {% endfor %}
            {% set name = question.name %}
            <div class="form-check">
                <ul id="score">
                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_first" id="{{name}}_first" value="first" required>   
                        <span>第一个</span>
                    </li>

                    <li>
                        <input class="form-check-input" type="radio" name="{{name}}_second" id="{{name}}_second" value="second" required>   
                        <span>第二个</span>
                    </li>
                </ul>
            </div>
        </div>
    {% endfor %}
{% endblock %}
